import{n as r,R as n,b as l,i as c}from"./app-CbaWAQcg.js";import{l as o}from"./listMixin-DE8m5-oh.js";const u={name:"List",mixins:[o],data(){return{isFilter:!1,search:{name:"",district_id:null},pagination:{perPage:10,currentPage:1,total:0},editId:""}},computed:{fields(){const a=[{label:"Sl No",class:"text-center"},{label:"Name",class:"text-center"},{label:"Email",class:"text-center"},{label:"Mobile",class:"text-center"},{label:"Address",class:"text-center"},{label:"Status",class:"text-center"},{label:"Action",class:"text-center"}];let t=[];return t=[{key:"index"},{key:"name"},{key:"email"},{key:"mobile_no"},{key:"address"},{key:"status"},{key:"action"}],a.map((e,s)=>Object.assign(e,t[s]))}},watch:{listReload:function(a){a&&this.loadData()}},methods:{toggleStatus(a,t){n.putData(l,`/customers/status/${a.id}/`,{...a,status:t}).then(e=>{this.$store.dispatch("mutedLoad",{listReload:!0}),c.success({title:"Success",message:e.message})})},loadData(){const a=Object.assign({},this.search,{page:this.pagination.currentPage,per_page:this.pagination.perPage,status:[1,2]});this.$store.dispatch("mutedLoad",{loading:!0}),n.getData(l,"customers",a).then(t=>{t.success&&(this.$store.dispatch("setList",t.data.data),this.paginationData(t.data)),this.$store.dispatch("mutedLoad",{loading:!1})})}}};var d=function(){var t=this,e=t._self._c;return e("div",[e("CRow",[e("CCol",[e("BreadCrumb"),e("CCard",[e("CCardHeader",[e("list-header",{attrs:{createUri:"/create"},on:{emitSearch:function(s){return t.searchData()},filterAction:t.filterEmitAction}})],1),e("CCardBody",{staticClass:"pt-0"},[e("div",{staticClass:"row mb-3"},[t.isFilter?e("div",{staticClass:"col-md-12"},[e("b-form",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-3"},[e("b-form-group",{attrs:{"label-cols-md":"12"},scopedSlots:t._u([{key:"label",fn:function(){return[t._v(" Name ")]},proxy:!0}],null,!1,131818428)},[e("b-form-input",{attrs:{size:"sm",id:"email"},model:{value:t.search.email,callback:function(s){t.$set(t.search,"email",s)},expression:"search.email"}})],1)],1),e("div",{staticClass:"col-md-12 text-right"})])])],1):t._e()]),e("b-overlay",{attrs:{show:t.loading}},[e("div",{staticClass:"overflow-auto"},[e("b-table",{attrs:{"thead-class":"thead-color",emptyText:"Data Not Found",small:"","show-empty":"",bordered:"",hover:"",items:t.itemList,fields:t.fields},scopedSlots:t._u([{key:"cell(index)",fn:function(s){return[t._v(" "+t._s(s.index+1+t.pagination.slOffset)+" ")]}},{key:"cell(status)",fn:function(s){return[s.item.status==1?e("span",{staticClass:"badge badge-success"},[t._v("Active")]):t._e(),s.item.status==0?e("span",{staticClass:"badge badge-warning"},[t._v("Pending")]):t._e(),s.item.status==2?e("span",{staticClass:"badge badge-danger"},[t._v("Reject")]):t._e()]}},{key:"cell(action)",fn:function(s){return[s.item.status==0||s.item.status==2?e("b-button",{staticClass:"ml-2 btn btn-success btn-sm",attrs:{title:"Approve"},on:{click:function(i){return t.changeStatus(s.item,1)}}},[e("i",{staticClass:"ri-check-line"})]):t._e(),s.item.status==1?e("b-button",{staticClass:"ml-2 btn btn-warning btn-sm",attrs:{title:"pending"},on:{click:function(i){return t.changeStatus(s.item,0)}}},[e("i",{staticClass:"ri-close-circle-line"})]):t._e(),s.item.status==0?e("b-button",{staticClass:"ml-2 btn btn-danger btn-sm",attrs:{title:"Reject"},on:{click:function(i){return t.changeStatus(s.item,2)}}},[e("i",{staticClass:"ri-close-circle-line"})]):t._e()]}}])})],1)]),e("b-pagination",{attrs:{size:"sm","total-rows":t.pagination.total,"per-page":t.pagination.perPage,align:"right"},on:{input:t.searchData},model:{value:t.pagination.currentPage,callback:function(s){t.$set(t.pagination,"currentPage",s)},expression:"pagination.currentPage"}})],1)],1)],1)],1)],1)},m=[],g=r(u,d,m,!1,null,null);const f=g.exports;export{f as default};

import{n as c,R as n,b as r,i as l}from"./app-CbaWAQcg.js";import{l as o}from"./listMixin-DE8m5-oh.js";const u={name:"List",mixins:[o],data(){return{isFilter:!1,search:{name:"",district_id:null},pagination:{perPage:10,currentPage:1,total:0},editId:""}},computed:{fields(){const s=[{label:"Sl No",class:"text-center"},{label:"District Name",class:"text-center"},{label:"Thana Name",class:"text-center"},{label:"Area Name",class:"text-center"},{label:"Status",class:"text-center"},{label:"Action",class:"text-center"}];let t=[];return t=[{key:"id"},{key:"district_name"},{key:"thana_name"},{key:"name"},{key:"status"},{key:"action"}],s.map((e,a)=>Object.assign(e,t[a]))}},watch:{listReload:function(s){s&&this.loadData()}},methods:{toggleStatus(s,t){n.putData(r,`/areas/status/${s.id}/`,{...s,status:t}).then(e=>{this.$store.dispatch("mutedLoad",{listReload:!0}),l.success({title:"Success",message:e.message})})},loadData(){const s=Object.assign({},this.search,{page:this.pagination.currentPage,per_page:this.pagination.perPage});this.$store.dispatch("mutedLoad",{loading:!0}),n.getData(r,"areas",s).then(t=>{t.success&&(this.$store.dispatch("setList",t.data.data),this.paginationData(t.data)),this.$store.dispatch("mutedLoad",{loading:!1})})}}};var d=function(){var t=this,e=t._self._c;return e("div",[e("CRow",[e("CCol",[e("BreadCrumb"),e("CCard",[e("CCardHeader",[e("list-header",{attrs:{createUri:"/create"},on:{emitSearch:function(a){return t.searchData()},filterAction:t.filterEmitAction}})],1),e("CCardBody",{staticClass:"pt-0"},[e("div",{staticClass:"row mb-3"},[t.isFilter?e("div",{staticClass:"col-md-12"},[e("b-form",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-3"},[e("b-form-group",{attrs:{"label-cols-md":"12"},scopedSlots:t._u([{key:"label",fn:function(){return[t._v(" Name ")]},proxy:!0}],null,!1,131818428)},[e("b-form-input",{attrs:{size:"sm",id:"email"},model:{value:t.search.email,callback:function(a){t.$set(t.search,"email",a)},expression:"search.email"}})],1)],1),e("div",{staticClass:"col-md-12 text-right"})])])],1):t._e()]),e("b-overlay",{attrs:{show:t.loading}},[e("div",{staticClass:"overflow-auto"},[e("b-table",{attrs:{"thead-class":"thead-color",emptyText:"Data Not Found",small:"","show-empty":"",bordered:"",hover:"",items:t.itemList,fields:t.fields},scopedSlots:t._u([{key:"cell(index)",fn:function(a){return[t._v(" "+t._s(a.index+1+t.pagination.slOffset)+" ")]}},{key:"cell(district_name)",fn:function(a){return[t._v(" "+t._s(a.item.district.name)+" ")]}},{key:"cell(thana_name)",fn:function(a){return[t._v(" "+t._s(a.item.thana.name)+" ")]}},{key:"cell(status)",fn:function(a){return[a.item.status==1?e("span",{staticClass:"badge badge-success"},[t._v("Active")]):e("span",{staticClass:"badge badge-warning"},[t._v("Inactive")])]}},{key:"cell(action)",fn:function(a){return[a.item.status==1?e("b-button",{staticClass:"ml-2 btn btn-danger btn-sm",attrs:{title:"Active/Inactive"},on:{click:function(i){return t.changeStatus(a.item,0)}}},[e("i",{staticClass:"ri-close-circle-line"})]):e("b-button",{staticClass:"ml-2 btn btn-success btn-sm",attrs:{title:"Active/Inactive"},on:{click:function(i){return t.changeStatus(a.item,1)}}},[e("i",{staticClass:"ri-check-line"})]),e("b-button",{staticClass:"ml-2 btn btn-primary btn-sm",attrs:{title:"Active/Inactive"},on:{click:function(i){return t.editRouter(a.item,"areas/create")}}},[e("i",{staticClass:"ri-edit-line"})])]}}])})],1)]),e("b-pagination",{attrs:{size:"sm","total-rows":t.pagination.total,"per-page":t.pagination.perPage,align:"right"},on:{input:t.searchData},model:{value:t.pagination.currentPage,callback:function(a){t.$set(t.pagination,"currentPage",a)},expression:"pagination.currentPage"}})],1)],1)],1)],1)],1)},m=[],p=c(u,d,m,!1,null,null);const g=p.exports;export{g as default};
